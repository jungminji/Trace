{"version":3,"sources":["../../src/js/vue.todo.js"],"names":["config","apiKey","authDomain","databaseURL","storageBucket","firebase","initializeApp","Vue","el","created","getList","data","todoList","task","complete","editable","computed","methods","database","ref","once","then","res","forEach","todo","val","status","push","Object","assign","key","add","input","document","querySelector","value","addedKey","content","remove","item","index","toRemove","indexOf","splice","child","update","toMove","$set","undo","edit","$event","node","target","nextElementSibling","setAttribute","focus","editConfirm","editCancel"],"mappings":"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","file":"vue.todo.js","sourcesContent":["{\n    let config = {\n        apiKey: \"\",\n        authDomain: \"vue-todolist-c856b.firebaseapp.com \",\n        databaseURL: \"https://vue-todolist-c856b.firebaseio.com\",\n        storageBucket: \"bucket.appspot.com\"\n    };\n    firebase.initializeApp(config);\n\n    // Vue instance\n    new Vue({\n\n        el: '.app',\n        created() {\n            this.getList();\n        },\n\n        data: {\n            todoList: {\n                task: [],\n                complete: []\n            },\n            editable: false\n        },\n\n        computed: {\n\n        },\n\n        methods: {\n            getList() {\n                // Truncate before fetch todolist\n                this.todoList.task = [];\n                this.todoList.complete = [];\n\n                // Fetching todo items from server\n                firebase.database().ref('todolist/').once('value').then((res) => {\n                    res.forEach((todo) => {\n\n\n                        if (todo.val().status) {\n                            this.todoList.task.push(Object.assign(todo.val(), {\n                                key: todo.key\n                            }));\n                        } else {\n                            this.todoList.complete.push(Object.assign(todo.val(), {\n                                key: todo.key\n                            }));\n                        }\n                    })\n                })\n            },\n            add() {\n                let input = document.querySelector('.userInput');\n\n                if (input.value === '') throw 'You must type something.';\n\n                // .set will overwrite. Be aware!\n                let addedKey = firebase.database().ref('todolist/').push({\n                    content: input.value,\n                    status: true\n                }).key;\n\n                this.todoList.task.push({\n                    content: input.value,\n                    status: true,\n                    key: addedKey\n                });\n\n                input.value = '';\n\n            },\n            remove(key) {\n\n                firebase.database().ref('todolist/' + key).remove();\n\n                this.todoList.task.forEach((item, index) => {\n                    if (item.key === key) {\n                        let toRemove = this.todoList.task.indexOf(item);\n                        this.todoList.task.splice(toRemove, 1);\n                    }\n                });\n                this.todoList.complete.forEach((item, index) => {\n                    if (item.key === key) {\n                        let toRemove = this.todoList.complete.indexOf(item);\n                        this.todoList.complete.splice(toRemove, 1);\n                    }\n                });\n            },\n            complete(key) {\n                firebase.database().ref().child('todolist/' + key).update({\n                    status: false\n                })\n                this.todoList.task.forEach((item, index) => {\n                    if (item.key === key) {\n\n                        let toMove = this.todoList.task.indexOf(item);\n                        toMove = this.todoList.task.splice(toMove, 1);\n                        this.todoList.complete.push(toMove[0]);\n                        this.$set(item, 'status', false);\n                    }\n                })\n\n            },\n            undo(key) {\n                firebase.database().ref().child('todolist/' + key).update({\n                    status: true\n                })\n                this.todoList.complete.forEach((item, index) => {\n                    if (item.key === key) {\n                        let toMove = this.todoList.complete.indexOf(item);\n                        toMove = this.todoList.complete.splice(toMove, 1);\n                        this.todoList.task.push(toMove[0]);\n                        this.$set(item, 'status', true);\n                    }\n                })\n            },\n            edit($event) {\n                let node = $event.target.nextElementSibling.nextElementSibling;\n                node.setAttribute('class', 'active');\n                node.focus();\n            },\n            editConfirm(key, $event) {\n                let input = $event.target;\n                if (input.value === '') throw 'You must type something.';\n\n                firebase.database().ref().child('todolist/' + key).update({\n                    content: input.value\n                })\n\n                this.todoList.task.forEach((item, index) => {\n                    if (item.key === key) {\n                        this.$set(item, 'content', input.value);\n                    }\n                })\n\n\n                input.setAttribute('class', 'editInput');\n\n            },\n            editCancel($event) {\n                let input = $event.target;\n                input.setAttribute('class', 'editInput');\n            }\n        }\n    });\n}"]}